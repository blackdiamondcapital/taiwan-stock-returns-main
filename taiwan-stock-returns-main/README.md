# å°è‚¡å ±é…¬ç‡åˆ†æç³»çµ± (Taiwan Stock Returns Analytics)

é€™æ˜¯ä¸€å€‹å®Œæ•´çš„å°è‚¡å ±é…¬ç‡åˆ†æç³»çµ±ï¼ŒåŒ…å« Node.js å¾Œç«¯ API å’Œç¾ä»£åŒ–çš„å‰ç«¯ä»‹é¢ï¼Œé€£æ¥ PostgreSQL è³‡æ–™åº«ã€‚

## åŠŸèƒ½ç‰¹è‰²

- ğŸ“Š **å³æ™‚å ±é…¬ç‡æ’è¡Œæ¦œ** - æ”¯æ´æ—¥/é€±/æœˆ/å­£/å¹´åº¦å ±é…¬ç‡åˆ†æ
- ğŸ¯ **å¤šç¶­åº¦ç¯©é¸** - æŒ‰å¸‚å ´é¡åˆ¥ã€ç”¢æ¥­ã€å ±é…¬ç‡ç¯„åœã€æˆäº¤é‡ç­‰ç¯©é¸
- ğŸ“ˆ **äº’å‹•å¼åœ–è¡¨** - ä½¿ç”¨ Chart.js é¡¯ç¤ºè‚¡ç¥¨è¶¨å‹¢
- ğŸ” **æ·±åº¦åˆ†æå·¥å…·** - å ±é…¬ç‡è¨ˆç®—å™¨ã€é¢¨éšªè©•ä¼°
- ğŸ¨ **ç¾ä»£åŒ– UI** - ç§‘æŠ€æ„Ÿåè¶³çš„æ·±è‰²ä¸»é¡Œè¨­è¨ˆ
- ğŸš€ **é«˜æ•ˆèƒ½ API** - Express.js + Sequelize ORM

## æŠ€è¡“æ¶æ§‹

### å¾Œç«¯
- **Node.js** + **Express.js** - ä¼ºæœå™¨æ¡†æ¶
- **PostgreSQL** - ä¸»è¦è³‡æ–™åº«
- **Sequelize** - ORM è³‡æ–™åº«æ“ä½œ
- **CORS** - è·¨åŸŸè«‹æ±‚æ”¯æ´

### å‰ç«¯
- **HTML5** + **CSS3** + **JavaScript ES6+**
- **Chart.js** - åœ–è¡¨è¦–è¦ºåŒ–
- **Font Awesome** - åœ–ç¤ºåº«
- **éŸ¿æ‡‰å¼è¨­è¨ˆ** - æ”¯æ´å„ç¨®è£ç½®

### è³‡æ–™åº«çµæ§‹
```sql
-- è‚¡ç¥¨åŸºæœ¬è³‡æ–™è¡¨
stock_symbols (symbol, name, market, created_at, updated_at)

-- è‚¡åƒ¹æ­·å²è³‡æ–™è¡¨
stock_prices (id, symbol, date, open_price, high_price, low_price, close_price, volume, created_at)

-- å ±é…¬ç‡è¨ˆç®—è¡¨
stock_returns (id, symbol, date, daily_return, weekly_return, monthly_return, cumulative_return, created_at)
```

## å®‰è£èˆ‡è¨­å®š

### 1. ç’°å¢ƒéœ€æ±‚
- Node.js 16.0+
- PostgreSQL 12.0+
- npm æˆ– yarn

### 2. å®‰è£ä¾è³´
```bash
npm install
```

### 3. ç’°å¢ƒè®Šæ•¸è¨­å®š
è¤‡è£½ `.env` æª”æ¡ˆä¸¦ä¿®æ”¹è³‡æ–™åº«é€£æ¥è¨­å®šï¼š
```env
PORT=3000
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=your_password
DB_NAME=postgres
```

### 4. åˆå§‹åŒ–è³‡æ–™åº«
```bash
npm run init-db
```

### 5. å•Ÿå‹•ä¼ºæœå™¨
```bash
# é–‹ç™¼æ¨¡å¼
npm run dev

# ç”Ÿç”¢æ¨¡å¼
npm start
```

## API ç«¯é»

### è‚¡ç¥¨ç›¸é—œ
- `GET /api/stocks` - ç²å–è‚¡ç¥¨åˆ—è¡¨
- `GET /api/stocks/:symbol` - ç²å–ç‰¹å®šè‚¡ç¥¨è©³æƒ…
- `GET /api/stocks/:symbol/prices` - ç²å–è‚¡ç¥¨åƒ¹æ ¼æ­·å²
- `POST /api/stocks` - æ–°å¢è‚¡ç¥¨
- `PUT /api/stocks/:symbol` - æ›´æ–°è‚¡ç¥¨è³‡è¨Š

### å ±é…¬ç‡ç›¸é—œ
- `GET /api/returns/ranking` - ç²å–å ±é…¬ç‡æ’è¡Œæ¦œ
- `GET /api/returns/statistics` - ç²å–å¸‚å ´çµ±è¨ˆæ•¸æ“š
- `GET /api/returns/:symbol/history` - ç²å–ç‰¹å®šè‚¡ç¥¨å ±é…¬ç‡æ­·å²
- `POST /api/returns/calculate` - è§¸ç™¼å ±é…¬ç‡è¨ˆç®—

### ç³»çµ±ç›¸é—œ
- `GET /api/health` - å¥åº·æª¢æŸ¥

## ä½¿ç”¨æ–¹å¼

1. å•Ÿå‹•ä¼ºæœå™¨å¾Œï¼Œé–‹å•Ÿç€è¦½å™¨è¨ªå• `http://localhost:3000`
2. ä½¿ç”¨é ‚éƒ¨å°èˆªåˆ‡æ›ä¸åŒåŠŸèƒ½é é¢
3. åœ¨ç¯©é¸é¢æ¿èª¿æ•´æŸ¥è©¢æ¢ä»¶
4. é»æ“Šè¡¨æ ¼ä¸­çš„åœ–è¡¨æŒ‰éˆ•æŸ¥çœ‹å€‹è‚¡è¶¨å‹¢
5. ä½¿ç”¨åˆ†æå·¥å…·é€²è¡Œå ±é…¬ç‡è¨ˆç®—å’Œé¢¨éšªè©•ä¼°

## é–‹ç™¼èªªæ˜

### å°ˆæ¡ˆçµæ§‹
```
taiwan-stock-backend/
â”œâ”€â”€ models/           # Sequelize è³‡æ–™æ¨¡å‹
â”œâ”€â”€ routes/           # API è·¯ç”±
â”œâ”€â”€ scripts/          # è³‡æ–™åº«åˆå§‹åŒ–è…³æœ¬
â”œâ”€â”€ public/           # å‰ç«¯éœæ…‹æª”æ¡ˆ
â”œâ”€â”€ database/         # è³‡æ–™åº«æª”æ¡ˆ
â”œâ”€â”€ server.js         # ä¸»ä¼ºæœå™¨æª”æ¡ˆ
â”œâ”€â”€ package.json      # å°ˆæ¡ˆè¨­å®š
â””â”€â”€ README.md         # èªªæ˜æ–‡ä»¶
```

### æ–°å¢åŠŸèƒ½
1. åœ¨ `models/` ä¸­å®šç¾©æ–°çš„è³‡æ–™æ¨¡å‹
2. åœ¨ `routes/` ä¸­å»ºç«‹å°æ‡‰çš„ API ç«¯é»
3. æ›´æ–°å‰ç«¯ JavaScript ä¾†èª¿ç”¨æ–°çš„ API

## æ³¨æ„äº‹é …

- ç¢ºä¿ PostgreSQL æœå‹™æ­£åœ¨é‹è¡Œ
- è³‡æ–™åº«é€£æ¥è¨­å®šéœ€èˆ‡å¯¦éš›ç’°å¢ƒåŒ¹é…
- é–‹ç™¼æ™‚å»ºè­°ä½¿ç”¨ `npm run dev` ä»¥å•Ÿç”¨è‡ªå‹•é‡è¼‰
- ç”Ÿç”¢ç’°å¢ƒè«‹è¨­å®šé©ç•¶çš„ç’°å¢ƒè®Šæ•¸å’Œå®‰å…¨æªæ–½

## æˆæ¬Š

MIT License
